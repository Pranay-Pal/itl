API: Show Booking

Endpoint: GET /api/marketing-person/{user_code}/bookings/by-letter

Route name: api.marketing.booking.by-letter

Auth / Middleware: multi_jwt:api — send Authorization: Bearer <JWT> header

Query params:

search: string — searches job_order_no, booking reference_no, booking client_name, sample_quality, particulars
month: int (1–12) — filter by booking.created_at month
year: int — filter by booking.created_at year
perPage: int — rows per page (default: 25)
page: int — pagination page
Success response (200) — trimmed example:
{
"status": true,
"message": "Booking items fetched",
"data": {
"items": [
{
"id": 131411,
"job_order_no": "ITLNBC.M20250317002",
"reference_no": "128062_…",
"client_name": "NBCC ( INDIA) LIMITED…",
"sample_quality": "Standard",
"particulars": "Physical & Chemical Test …",
"status": "Pending",
"status_class": "pending",
"status_detail": "Pending – not yet received",
"letter_url": "https://.../uploads/bookings/xxx.pdf",
"received_at": null,
"issue_date": null
},
...
],
"meta": {
"total": 19392,
"per_page": 25,
"current_page": 1,
"last_page": 776
}
}
}

Errors:

401 Unauthorized: missing/invalid token
404 Not Found: invalid user_code
422 Validation: invalid query parameter values
  
Implementation notes for dev:

letter_url is built from booking upload_letter_path and may be null.
status simplified to Issued | Received | Pending. status_class is success|info|pending.
Route is protected — call via bearer JWT from mobile auth flow.