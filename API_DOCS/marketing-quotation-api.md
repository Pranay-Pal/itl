# Marketing Quotation API Documentation

## Overview
This API allows fetching a paginated list of quotations for a specific marketing person. Ideally for mobile application use.

---

## Authentication
This endpoint requires a Bearer Token (JWT).
**Header:**
`Authorization: Bearer <your_access_token>`

---

## **1. Fetch Quotations List**

Retrieves a paginated list of quotations generated by or assigned to the marketing person.

- **URL:** `/api/marketing-person/{user_code}/quotations`
- **Method:** `GET`

### **Path Parameters**
| Parameter | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| `user_code` | string | Yes | The unique code of the marketing user (e.g., `MP001`). |

### **Query Parameters**
| Parameter | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| `search` | string | No | Search by Quotation Number, Client Name, or Client GSTIN. |
| `client_name` | string | No | Filter by specific Client Name. |
| `month` | integer | No | Filter by month number (1-12). |
| `year` | integer | No | Filter by year (e.g., 2026). |
| `page` | integer | No | Page number for pagination (default: 1). |

### **Success Response**
**Code:** `200 OK`

**Content:**
```json
{
    "status": true,
    "message": "Quotations fetched successfully",
    "data": {
        "current_page": 1,
        "data": [
            {
                "id": 105,
                "quotation_no": "QT-2026-005",
                "client_name": "Acme Industries",
                "client_gstin": "27AAAC1234F1Z5",
                "payable_amount": "12500.00",
                "quotation_date": "2026-01-16",
                "bill_issue_to": "Acme Industries, Mumbai",
                "marketing_person_code": "MP001",
                "created_at": "2026-01-16T10:00:00.000000Z",
                "updated_at": "2026-01-16T10:00:00.000000Z",
                "generated_by": {
                     "id": 45,
                     "name": "John Doe",
                     "user_code": "MP001"
                }
            }
        ],
        "first_page_url": "http://domain.com/api/marketing-person/MP001/quotations?page=1",
        "from": 1,
        "last_page": 3,
        "last_page_url": "http://domain.com/api/marketing-person/MP001/quotations?page=3",
        "next_page_url": "http://domain.com/api/marketing-person/MP001/quotations?page=2",
        "path": "http://domain.com/api/marketing-person/MP001/quotations",
        "per_page": 10,
        "prev_page_url": null,
        "to": 10,
        "total": 25
    }
}
```

### **Error Response**
**Code:** `401 Unauthorized` (If token is missing or invalid)
**Code:** `404 Not Found` (If the URL is incorrect)
**Code:** `500 Internal Server Error` (Server-side issue)

---

## **Example Requests**

### **Fetch All (First Page)**
`GET /api/marketing-person/MP001/quotations`

### **Search by Client Name**
`GET /api/marketing-person/MP001/quotations?search=Acme`

### **Filter by Month and Year**
`GET /api/marketing-person/MP001/quotations?month=1&year=2026`
